[gd_scene load_steps=8 format=3 uid="uid://bvw1dpdysu56x"]

[ext_resource type="Texture2D" uid="uid://b8hfpwp4cdd6g" path="res://temp_assets/textures/tile.png" id="1_ujurv"]
[ext_resource type="Texture2D" uid="uid://crhgqophukhom" path="res://temp_assets/textures/tile_selected.png" id="2_qjx4p"]
[ext_resource type="PackedScene" uid="uid://cohlakdbumiy2" path="res://scenes/player_tile.tscn" id="3_ogmua"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_w4aii"]
texture = ExtResource("1_ujurv")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3l7ya"]
texture = ExtResource("2_qjx4p")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_6qi4m"]
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_w4aii")
sources/1 = SubResource("TileSetAtlasSource_3l7ya")

[sub_resource type="GDScript" id="GDScript_tnuxs"]
script/source = "extends TileMap

var grid_size = 4
var dictionary = {}

func _ready():
	for x in grid_size:
		for y in grid_size:
			dictionary[str(Vector2(x, y))] = {
				\"Type\" : \"Grass\"
			}
			set_cell(0, Vector2(x, y), 0, Vector2i(0, 0), 0)

func _process(delta):
	var hovered_tile = local_to_map(get_global_mouse_position())
	
	for x in grid_size:
		for y in grid_size:
			erase_cell(1, Vector2(x, y))
	
	if dictionary.has(str(hovered_tile)): 
		set_cell(1, hovered_tile, 1, Vector2i(0, 0), 0)
		print(dictionary[str(hovered_tile)])
		
"

[node name="Battle" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_6qi4m")
rendering_quadrant_size = 128
format = 2
layer_1/modulate = Color(1, 1, 1, 0.180392)
layer_1/tile_data = PackedInt32Array()
script = SubResource("GDScript_tnuxs")

[node name="Camera2D" type="Camera2D" parent="."]
enabled = false

[node name="TextureRect" parent="." instance=ExtResource("3_ogmua")]
expand_mode = 3
